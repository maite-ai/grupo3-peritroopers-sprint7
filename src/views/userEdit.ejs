<!DOCTYPE html>
<html lang="en">
<%- include('partials/head') %>

    <body>
        <%- include('partials/header') %>
            <main class="main-register">
                <section class="register">
                    <h2>Editar Usuario</h2>
                    <form class="register-form" action="/users/<%= user.id %>?_method=PUT" method="POST" enctype="multipart/form-data">
                        <div class="regform-outofthebox">
                            <div class="contenedor-regform name">
                                <label class="labelName" id="labelName">Nombre</label>
                                <input 
                                    type="text"
                                    class="inputName <%= locals.errors && errors.name?'is-invalid':null %>"
                                    name="name"
                                    placeholder="Cosme"
                                    value="<%= locals.oldData?oldData.name:null %>"
                                >
                                <% if(locals.errors && errors.name) { %>
                                    <div>
                                        <%= errors.name.msg %>
                                    </div>
                                <% } %>
                            </div>
                            <div class="contenedor-regform lastName">
                                <label class="labelLastName" id="labelLastName">Apellido</label>
                                <input
                                    type="text"
                                    class="inputLastName <%= locals.errors && errors.lastName?'is-invalid':null %>"
                                    name="lastName"
                                    placeholder="Fulanito"
                                    value="<%= locals.oldData?oldData.lastName:null %>"
                                >
                                <% if(locals.errors && errors.lastName) { %>
                                    <div>
                                        <%= errors.lastName.msg %>
                                    </div>
                                <% } %>
                            </div>
                            <div class="contenedor-regform address">
                                <label class="labelAddress" id="labelAddress">Dirección</label>
                                <input
                                    type="text"
                                    class="inputAddress <%= locals.errors && errors.address?'is-invalid':null %>"
                                    name="address"
                                    placeholder="Dirección"
                                    value="<%= locals.oldData?oldData.address:null %>"
                                >
                                <% if(locals.errors && errors.address) { %>
                                    <div>
                                        <%= errors.address.msg %>
                                    </div>
                                <% } %>
                            </div>
                            <div class="contenedor-regform password">
                                <label class="labelPassword" id="labelPassword">Nueva Contraseña</label>
                                <input type="password" class="inputPassword" name="password" placeholder="**********">
                                <% if(locals.errors && errors.password){ %>
                                    <div class="text-danger">
                                        <%= errors.password.msg %>
                                    </div>
                                <% } %>
                            </div>
                            <div class="contenedor-regform">
                                <label class="labelRePassword" id="labelRePassword">Repita su Contraseña</label>
                                <input type="password" class="inputRePassword" placeholder="**********" name="confirmPassword">
                                <% if(locals.errors && errors.confirmPassword){ %>
                                    <div class="text-danger">
                                        <%= errors.confirmPassword.msg %>
                                    </div>
                                <% } %>
                            </div>
                            <div class="contenedor-regform">
                                <label class="labelAvatar">Imágen de Perfil</label>
                                <input type="file" class="inputAvatar" name="avatar">
                                <input type="hidden" name="oldImage" id="image" value="<%= user.image %>">
                                <% if(locals.errors && errors.avatar){ %>
                                    <div>
                                        <%= errors.avatar.msg %>
                                    </div>
                                <% } %>
                            </div>
                        </div>
                        

                        <div class="reg-button">
                            <div class="send-box">
                                <button type="submit" class="send-button">Actualizar Datos</button>
                            </div>
                        </div>
                    </form>
                </section>
            </main>
            <%- include('partials/footer') %>
    </body>

</html>